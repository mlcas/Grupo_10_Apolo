<!DOCTYPE html>
<html lang="en">
 
  <%- include("../partial/head.ejs",{cssfile:"style-createProduct"}) %> <!--cssfile es una variable que va a guardar la hoja de estilo-->
<body>
    <%- include("../partial/header.ejs") %> <!--Aca estoy reutilizando codigo gracias a ejs-->

    <form action="/product/productList" method="POST" class="create-form" enctype="multipart/form-data" id="id-form" >
  
        <div class="control-formulario" >
         <label>Nombre del Producto:</label>
         <input type="text" name="name" placeholder="nombre producto"  class="control" id="name"
         <%= locals.errors && errors.name ? "is-invalid": null %>
         value ="<%= locals.oldData ? oldData.name :null %>">
         <% if (locals.errors && errors.name){ %> 
             <div class="text-danger">
                 <%= errors.name.msg %> 
             </div>
             <% } %>  <!--el atibuto name es de para una mejor identificacion del Backend-->
             <div id="div-name"> <!--lo utilizamos para vaciar  el contenido de html desde javaScript-->

             </div>
        </div>
      </div>
        <div class="control-formulario">
          <label>Precio:</label>
          <input type="number" name="price" class="control">
         </div>
         <div class="control-formulario">
          <label>Descuento:</label>
          <input type="number" name="discount" class="control">
         </div>
           <div class="control-formulario"> <!--este campo contiene el menu desplegable-->
             <label>Genero:</label> 
              <select name="gender" class="control"> <!--el name es solo para el Backend-->
               <option value="Hombre">Hombre</option> <!--el value es para q el backend identifique de que se trata-->
               <option value="Mujer">Mujer</option>
              </select>
           </div>
           <div class="control-formulario"> <!--este campo contiene el menu desplegable-->
            <label>Categoria:</label> 
            <p>
              <select name="category_id">
               <option value="" disabled selected>Elegir Categoria</option>
               <% categories.forEach(category => { %>
               <option value="<%= category.id %>"><%= category.name %> </option> <!--El id de category es lo que se guarda cuando se envia el form de crear producto y es el dato que 
              necesitas que se guarde dado que esta relacionado con la tabla categorias-->
               <% }) %>
              </select>
          </p>
          </div>
          <div class="control-formulario"> <!--este campo contiene el menu desplegable-->
            <label>Marca:</label> 
             <select name="brand" class="control"> <!--el name es solo para el Backend-->
              <option value="adidas">Adidas</option> <!--el value es para q el backend identifique de que se trata-->
              <option value="nike">Nike</option>
              <option value="puma">Puma</option> 
              <option value="topper">Topper</option> 
              <option value="under armour">Under Armour</option>
              <option value="penalty">Penalty</option> 
              <option value="umbro">Umbro</option>
              <option value="kappa">Kappa</option>
             </select>
          </div>
           <div class="control-formulario"> <!--este campo contiene el menu desplegable-->
            <label>Talle:</label> 
            <p>
              <select name="size_id">
               <option value="" disabled selected>Elegir Talle</option>
               <% sizes.forEach(size => { %>
               <option value="<%= size.id %>"><%= size.size %> </option> <!--El id de size es lo que se guarda cuando se envia el form de crear producto y es el dato que 
              necesitas que se guarde dado que esta relacionado con la tabla Size-->
             
               <% }) %>
              </select>
          </p>
             
          </div>
          <div class="control-formulario">
            <label>Descripcion:</label> <!--aca van los comentarios-->
            <textarea name="description"  class="control <%= locals.errors && errors.description ? "is-invalid": null %>" id
              = "description"><%= locals.oldData ? oldData.description :null %></textarea>
            <% if (locals.errors && errors.description){ %> 
              <div class="text-danger">
                  <%= errors.description.msg %> 
              </div>
              <% } %>  
              <div id="div-description">

              </div>
          </div>
           
         
         
          <div class="control-formulario">
            <label>Foto del Producto:</label>
            <input type="file" name="image" placeholder="IMAGEN" class="control" id="image">
            <% if (locals.errors && errors.image){ %> 
              <div class="text-danger">
                  <%= errors.image.msg %> 
              </div>
              <% } %> 
              <div id="div-image"> <!--lo utilizamos para vaciar  el contenido de html desde javaScript-->

              </div>
          </div>
          <div class="control-formulario">
            <div class="radio-button-container" >
              <label>Esta en Oferta:</label>
              <input type="radio" name="sale" class = "radio-button__radio">
            </div>
          </div>
          <div class="control-formulario">
            <div class="radio-button-container" >
              <label>Nueva Temporada:</label>
              <input type="radio" name="newseason" class = "radio-button__radio">
            </div>
          </div>
          <button type="submit" class="botton-form">Crear Producto</button> <!--aca van los botones-->
      </form>



    
    <%- include("../partial/footer.ejs") %> <!--Aca estoy reutilizando codigo gracias a ejs-->
    <script src="/js/validatorCreate.js"></script>
</body>
</html>